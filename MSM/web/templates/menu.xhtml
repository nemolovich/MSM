<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <ui:include src="/restricted/admin/data/log/logPopup.xhtml"/>
        <ui:include src="/Albums/Dialog/createPopup.xhtml" />
        <ui:include src="/restricted/admin/data/users/createPopup.xhtml" />
        <h:form id="menu_form">
                <p:panelMenu styleClass="menu"
                             widgetVar="menu_admin">
                    <p:submenu label="Friends">
                        <p:menuitem>                            
                            <p:autoComplete value="Search"/>
                        </p:menuitem>
                    </p:submenu>
                    <p:submenu label="Albums">
                        <p:menuitem value="Create"
                                    icon="ui-icon-create"
                                    onclick="createAlbumViewDialog.show();"/>
                    </p:submenu>
                    <p:submenu label="Parameters"
                               icon="ui-icon-parameters">
                        <p:submenu label="Language" >
                            <p:menuitem value="French"
                                        icon="ui-icon-fr-flag" 
                                        url="http://www.primefaces.org/showcase-labs/ui/home.jsf"
                                        />
                            <p:menuitem value="English" 
                                        icon="ui-icon-uk-flag"
                                        url="http://www.primefaces.org/showcase-labs/ui/home.jsf"/>
                        </p:submenu>
                        <p:menuitem value="Security" 
                                    icon="ui-icon-security"
                                    url="http://www.primefaces.org/showcase-labs/ui/home.jsf"/>
                        <p:menuitem action="/restricted/user/users/view"
                                    actionListener="#{usersView.entityView(userLogin.user,userLogin)}"
                                    value="Display my profile"
                                    icon="ui-icon-flag"
                                    immediate="true"
                                    ajax="false"
                                    title="Display your account details"
                                    rendered="#{userLogin.logged}"/>
                        <p:menuitem action="/restricted/user/users/update"
                                    actionListener="#{usersView.entityUpdate(userLogin.user,userLogin)}"
                                    value="Modify my profile"
                                    icon="ui-icon-wrench"
                                    styleClass="blue_icon"
                                    immediate="true"
                                    ajax="false"
                                    title="Modify your account details"
                                    rendered="#{userLogin.logged}"/>
                    </p:submenu>
                    <p:submenu label="Admin Panel"
                               icon="ui-icon-admin-config"
                               rendered="#{userLogin.rights.equalsIgnoreCase(usersView.admin_Rights)}">
                        <p:menuitem outcome="/restricted/admin/data/users/list"
                                    value="Users List"
                                    icon="ui-icon-copy"
                                    immediate="true"
                                    ajax="false"
                                    title="Display the users full list"/>
                        <p:menuitem action="javascript:void(0);"
                                    actionListener="#{usersView.entityCreate()}"
                                    value="Add an user"
                                    icon="ui-icon-new-users"
                                    title="Add an user in list"
                                    oncomplete="usersViewDialog.show();"/>
                    </p:submenu>
                    <p:submenu label="Log"
                               rendered="#{userLogin.rights.equalsIgnoreCase(usersView.admin_Rights)}">
                        <p:menuitem value="Display"
                                    icon="ui-icon-document"
                                    title="Display the server log"
                                    update=":displayLogForm"
                                    onclick="startAjax();logViewDialog.show();"/>
                    </p:submenu>
                </p:panelMenu>
                <script type="text/javascript">
                    expandPanelMenu();
                </script>
        </h:form>
    </h:body>
</html>

